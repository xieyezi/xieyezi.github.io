<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuex4éƒ½betaäº†ï¼Œvuex5è¿˜ä¼šè¿œå—ï¼Ÿ | xieyezi</title>
    <meta name="description" content="blog">
    <link rel="stylesheet" href="/assets/style.af18a704.css">
    <link rel="modulepreload" href="/assets/app.c6951d47.js">
    <link rel="modulepreload" href="/assets/article_vuex5è¦è§£å†³å“ªäº›é—®é¢˜.md.70763e33.lean.js">
    
    <meta name="twitter:title" content="vuex4éƒ½betaäº†ï¼Œvuex5è¿˜ä¼šè¿œå—ï¼Ÿ | xieyezi">
  <meta property="og:title" content="vuex4éƒ½betaäº†ï¼Œvuex5è¿˜ä¼šè¿œå—ï¼Ÿ | xieyezi">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-22035cf8><div class="sidebar-button" data-v-22035cf8><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="xieyezi, back to home" data-v-22035cf8 data-v-6f1fa1d8><!----> xieyezi</a><div class="flex-grow" data-v-22035cf8></div><div class="nav" data-v-22035cf8><nav class="nav-links" data-v-22035cf8 data-v-32f7c87e><!----><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//xieyezi/vitepress-blog" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><!----><!--]--><!--]--></header><aside class="sidebar" data-v-928cb7a2><nav class="nav-links nav" data-v-928cb7a2 data-v-32f7c87e><!----><!----><div class="item" data-v-32f7c87e><div class="nav-link" data-v-32f7c87e data-v-e307cbc6><a class="item isExternal" href="https://github.com//xieyezi/vitepress-blog" target="_blank" rel="noopener noreferrer" data-v-e307cbc6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-e307cbc6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-928cb7a2><!--[--><li class="sidebar-link"><p class="sidebar-link-item">article</p><ul class="sidebar-links"><li class="sidebar-link"><p class="sidebar-link-item">å‰ç«¯</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ä»CJSå’ŒESMè¯»æ‡‚package.json.html">ä»CJSå’ŒESMè¯»æ‡‚package.json</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ES6-20ä¸ªç»å¸¸ä½¿ç”¨çš„æŠ€å·§.html">ES6-20ä¸ªç»å¸¸ä½¿ç”¨çš„æŠ€å·§</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/é€šä¿—æ˜“æ‡‚çš„å­¦ä¼šhttps.html">é€šä¿—æ˜“æ‡‚çš„å­¦ä¼šhttps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/javascriptåŸå‹ä¸åŸå‹é“¾çš„æ·±åº¦è§£æ.html">javascriptåŸå‹ä¸åŸå‹é“¾çš„æ·±åº¦è§£æ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/article/vuex5è¦è§£å†³å“ªäº›é—®é¢˜.html">vuex5è¦è§£å†³å“ªäº›é—®é¢˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/å¦‚ä½•æ„å»ºä½ è‡ªå·±çš„React.html">å¦‚ä½•æ„å»ºä½ è‡ªå·±çš„React</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/å•†å“å¤šè§„æ ¼é€‰æ‹©-skuç®—æ³•.html">å•†å“å¤šè§„æ ¼é€‰æ‹©-skuç®—æ³•</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/reactå…¥é—¨å¿…çŸ¥å¿…ä¼šçŸ¥è¯†ç‚¹.html">react å…¥é—¨å¿…çŸ¥å¿…ä¼šçŸ¥è¯†ç‚¹(ä¸‡å­—æ€»ç»“)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vue3å†™ä¸€ä¸ªç–«æƒ…æŸ¥è¯¢å°å·¥å…·.html">Vue3å†™ä¸€ä¸ªç–«æƒ…æŸ¥è¯¢å°å·¥å…·</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/2019nCoVç–«æƒ…åœ°å›¾.html">2019nCoVç–«æƒ…åœ°å›¾</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ReactåŸºç¡€çŸ¥è¯†.html">ReactåŸºç¡€çŸ¥è¯†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/import å’Œ require çš„åŒºåˆ«.html">import å’Œ require çš„åŒºåˆ«</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/WIndowsæ­å»ºæœ€å®Œç¾çš„VS codeå¼€å‘å¹³å°.html">WIndowsæ­å»ºæœ€å®Œç¾çš„VS codeå¼€å‘å¹³å°</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/VueXçš„ç›¸å…³ä½¿ç”¨.html">VueXçš„ç›¸å…³ä½¿ç”¨</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueä½¿ç”¨axiosçš„getå’Œpostè¯·æ±‚.html">Vueä½¿ç”¨axiosçš„getå’Œpostè¯·æ±‚</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Tomcatçš„é…ç½®åŸŸåè®¿é—®.html">Tomcatçš„é…ç½®åŸŸåè®¿é—®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vue Cli3.0è¯·æ±‚æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®.html">Vue Cli3.0è¯·æ±‚æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vue-cli 3.0è§£å†³è·¨åŸŸé—®é¢˜.html">Vue-cli 3.0è§£å†³è·¨åŸŸé—®é¢˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueå¼€å‘ç¯å¢ƒçš„æ­å»º.html">Vueå¼€å‘ç¯å¢ƒçš„æ­å»º</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueæ’æ§½ä¸ç¼“å­˜.html">Vueæ’æ§½ä¸ç¼“å­˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueç»„ä»¶.html">Vueç»„ä»¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueç»„ä»¶åº“iViewçš„ä½¿ç”¨.html">Vueç»„ä»¶åº“iViewçš„ä½¿ç”¨</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueè·¯ç”±çš„åŸºæœ¬åŠ è½½.html">Vueè·¯ç”±çš„åŸºæœ¬åŠ è½½</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Vueè¿‡æ¸¡ä¸åŠ¨ç”».html">Vueè¿‡æ¸¡ä¸åŠ¨ç”»</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/better-scrollæ’ä»¶åˆå§‹åŒ–åæ²¡æœ‰æ•ˆæœ.html">better-scrollæ’ä»¶åˆå§‹åŒ–åæ²¡æœ‰æ•ˆæœ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/callå’Œapplyçš„åŒºåˆ«.html">callå’Œapplyçš„åŒºåˆ«</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/cssè¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºçœç•¥å·.html">cssè¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºçœç•¥å·</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/nginxç»™tomcaté…ç½®åå‘ä»£ç†.html">nginxç»™tomcaté…ç½®åå‘ä»£ç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/promiseçš„è¿ç»­è°ƒç”¨é—®é¢˜.html">promiseçš„è¿ç»­è°ƒç”¨é—®é¢˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/vue-amapçš„bug -Cannot read property &#39;Ac&#39; of null.html">vue-amapçš„bug -Cannot read property &#39;Ac&#39; of null</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶é€šä¿¡.html">å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶é€šä¿¡</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/è§£å†³ç§»åŠ¨ç«¯300mså»¶è¿Ÿç‚¹å‡»çš„é—®é¢˜.html">è§£å†³ç§»åŠ¨ç«¯300mså»¶è¿Ÿç‚¹å‡»çš„é—®é¢˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/è®°ä¸€æ¬¡è‡ªå·±å°è£…NPMåŒ…çš„ç»å†.html">è®°ä¸€æ¬¡è‡ªå·±å°è£…NPMåŒ…çš„ç»å†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Es6çš„å­¦ä¹ ç¬”è®°1.html">Es6çš„å­¦ä¹ ç¬”è®°1</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Es6çš„å­¦ä¹ ç¬”è®°2.html">Es6çš„å­¦ä¹ ç¬”è®°2</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Gulpçš„åŸºæœ¬ä½¿ç”¨.html">Gulpçš„åŸºæœ¬ä½¿ç”¨</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Git</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/article/git-flowæµç¨‹.html">git-flowæµç¨‹</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/gitåŸºç¡€çŸ¥è¯†.html">gitåŸºç¡€çŸ¥è¯†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/git æäº¤è§„èŒƒ.html">git æäº¤è§„èŒƒ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/gitå¸¸ç”¨å‘½ä»¤.html">gitå¸¸ç”¨å‘½ä»¤</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/gitæµç¨‹æ­¥éª¤.html">gitæµç¨‹æ­¥éª¤</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/åˆ é™¤githubé¡¹ç›®ä¸­æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶.html">åˆ é™¤githubé¡¹ç›®ä¸­æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">ç¬”è®°</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ç»§æ‰¿.html">javascriptçš„ç»§æ‰¿</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ä½œç”¨åŸŸé“¾-é—­åŒ…-æ‰§è¡Œä¸Šä¸‹æ–‡.html">ä½œç”¨åŸŸé“¾-é—­åŒ…-æ‰§è¡Œä¸Šä¸‹æ–‡</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/ä¸€äº›è¯­æ³•å—.html">ä¸€äº›è¯­æ³•å—</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/é˜²æŠ–å’ŒèŠ‚æµ.html">é˜²æŠ–å’ŒèŠ‚æµ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Docker</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/article/dockeråŸºç¡€çŸ¥è¯†.html">dockeråŸºç¡€çŸ¥è¯†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/Dockerfile-Note.html">Dockerfile-Note</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/dockeréƒ¨ç½²vueé™æ€é¡¹ç›®.html">dockeréƒ¨ç½²vueé™æ€é¡¹ç›®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/docker-composeéƒ¨ç½²é¡¹ç›®.html">docker-composeéƒ¨ç½²é¡¹ç›®</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">ç”Ÿæ´»</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/article/2019ä¸€è·¯èµ°æ¥.html">2019ä¸€è·¯èµ°æ¥</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/æˆ‘çš„2018å¹´æ€»ç»“.html">æˆ‘çš„2018å¹´æ€»ç»“</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/article/2022-year-end-summary.html">2022å¹´ç»ˆæ€»ç»“</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-338937e7><div class="container" data-v-338937e7><!--[--><!--]--><div style="position:relative;" class="content" data-v-338937e7><div><h1 id="vuex4-éƒ½-beta-äº†ï¼Œvuex5-è¿˜ä¼šè¿œå—ï¼Ÿ" tabindex="-1">vuex4 éƒ½ beta äº†ï¼Œvuex5 è¿˜ä¼šè¿œå—ï¼Ÿ <a class="header-anchor" href="#vuex4-éƒ½-beta-äº†ï¼Œvuex5-è¿˜ä¼šè¿œå—ï¼Ÿ" aria-hidden="true">#</a></h1><p><img src="https://i.loli.net/2021/01/21/6Ifoi2GAzyqudYO.png" alt=""></p><p>éšç€<code>vue3</code>çš„å‡ºç°ï¼Œ<code>vue</code>ç¤¾åŒºçš„å…¶ä»–æ ¸å¿ƒåŒ…éƒ½è¿›è¡Œäº†å¯¹äº<code>vue3</code>çš„å‡çº§æ”¯æŒï¼Œä¾‹å¦‚<code>vue-router</code>ã€<code>vuex</code>ç­‰ã€‚é‚£ä¹ˆ<code>vuex</code>æœ‰äº†å“ªäº›å˜åŒ–å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥èŠèŠ<code>vuex</code>ã€‚</p><p>æˆ‘ä»¬çŸ¥é“<code>vue3</code>æ¯”è¾ƒæ ¸å¿ƒçš„ä¸¤ä¸ªå‡çº§ç‚¹:<code>composition-api</code>å’Œ æ›´å¥½çš„ <code>typescript</code> æ”¯æŒã€‚<code>vuex4</code>å‘¢ï¼Ÿ <code>vuex4</code> æ›´æ–°äº†è¿™äº›ä¸œè¥¿ï¼š</p><ul><li>å¯¹äº<code>vue3</code> çš„æ”¯æŒ</li><li>æ–°çš„å®‰è£…æ–¹å¼</li><li>ç¨å¾®å¥½ä¸€ç‚¹çš„ <code>typescript</code> æ”¯æŒ</li><li>ç›´æ¥åœ¨<code>vuex</code>é‡Œé¢é›†æˆ<code>Logger</code>æ’ä»¶</li></ul><p>æˆ‘ä»¬å…ˆä¸€èµ·æ¥ä½“éªŒä¸€ä¸‹<code>vuex4</code>å§ã€‚</p><h3 id="vuex4-vue3-çš„åŸºæœ¬ä½¿ç”¨" tabindex="-1">vuex4 + vue3 çš„åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#vuex4-vue3-çš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a></h3><p>æˆ‘ä»¬è¯•ç€æ¥åˆ›å»ºä¸€ä¸ª <code>vue3</code> + <code>vuex4</code> çš„é¡¹ç›®ï¼š</p><blockquote><p>è¿™é‡Œä½¿ç”¨ <code>vite</code> çš„æ–¹å¼æ¥åˆ›å»º</p></blockquote><div class="language-"><pre><code>yarn create @vitejs/app
cd my-vite-app
yarn
yarn vuex@next
</code></pre></div><p>æˆ‘ä»¬å¾—åˆ°å¦‚ä¸‹ç›®å½•:</p><div class="language-"><pre><code>âœ
.src
â”œâ”€â”€ App.vue
â”œâ”€â”€ assets
â”‚   â””â”€â”€ logo.png
â”œâ”€â”€ components
â”‚   â””â”€â”€ HelloWorld.vue
â””â”€â”€ main.ts
</code></pre></div><p>æˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸‹<code>vuex4</code>: åœ¨<code>src</code>ç›®å½•ä¸‹æ–°å»º<code>store</code>ç›®å½•ï¼Œåœ¨<code>store</code>ä¸‹é¢æ–°å»º <code>index.ts</code></p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> createLogger <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">&quot;../config&quot;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev<span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre></div><p>vuex4 ä¸ºæˆ‘ä»¬æä¾›äº† <code>createStore</code>æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>store</code>ï¼Œå¹¶å°†å…¶æš´éœ²å‡ºå»ï¼Œåœ¨<code>main.ts</code>é‡Œé¢å¼•ç”¨å®ƒï¼š</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™é‡Œå’Œ <code>vue2</code> å˜å¾—æœ‰äº›ä¸ä¸€æ ·äº†ï¼Œ<code>vue3</code>éƒ½æ˜¯é€šè¿‡<code>app.use</code>å°†<code>store</code>æ³¨å…¥ã€‚</p><h3 id="æ·»åŠ -modules" tabindex="-1">æ·»åŠ  modules <a class="header-anchor" href="#æ·»åŠ -modules" aria-hidden="true">#</a></h3><p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¸ç»å¸¸ç›´æ¥åœ¨æ ¹<code>state</code>åˆ›å»ºå˜é‡ï¼Œæ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬æƒ³åˆ°äº†<code>module</code>çš„æ–¹å¼ï¼Œåœ¨<code>store</code>ç›®å½•ä¸‹é¢åˆ›å»º<code>modules</code>ç›®å½•,åœ¨ modules ç›®å½•ä¸‹é¢åˆ›å»º<code>home</code> å’Œ <code>about</code> ä¸¤ä¸ªç›®å½•ï¼Œåˆ†åˆ«åˆ›å»º<code>state</code>å¹¶å¯¼å‡º:</p><div class="language-ts"><pre><code><span class="token comment">// store/modules/home.index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">HomeState</span> <span class="token punctuation">{</span>
  homeInfo<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> HomeState <span class="token operator">=</span> <span class="token punctuation">{</span>
  homeInfo<span class="token operator">:</span> <span class="token string">&quot;info from home state model&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts"><pre><code><span class="token comment">// store/modules/about.index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AboutState</span> <span class="token punctuation">{</span>
  aboutInfo<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> AboutState <span class="token operator">=</span> <span class="token punctuation">{</span>
  aboutInfo<span class="token operator">:</span> <span class="token string">&quot;info from about state model&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬åœ¨<code>modules</code>ç›®å½•ä¸‹é¢å†åˆ›å»ºä¸€ä¸ª<code>index.ts</code>,å°†è¿™äº›<code>module</code>ä¸€èµ·åˆå¹¶å¯¼å‡º:</p><div class="language-ts"><pre><code><span class="token comment">// store/modules/index.ts</span>
<span class="token keyword">import</span> home <span class="token keyword">from</span> <span class="token string">&quot;./home&quot;</span>
<span class="token keyword">import</span> about <span class="token keyword">from</span> <span class="token string">&quot;./about&quot;</span>

<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">{</span>
  home<span class="token punctuation">,</span>
  about
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;modules&quot;</span><span class="token punctuation">,</span> modules<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> modules
</code></pre></div><p>æ¥ç€<code>vuex4</code>ä¸ºæˆ‘ä»¬æä¾›äº† <code>useStore</code> æ–¹æ³•æ¥è·å–<code>state</code>ã€‚</p><blockquote><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦åŸºäº<code>composition-api</code>ï¼Œæ‰€ä»¥æš‚ä¸ä»‹ç»<code>mapState</code>ã€<code>mapGetters</code>ã€<code>mapActions</code>ç­‰çš„ç”¨æ³•</p></blockquote><p>æˆ‘ä»¬è¯•ç€æ¥ç”¨ä¸€ä¸‹ï¼š</p><div class="language-ts"><pre><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;home&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;../assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> homeInfo <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span>defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&#39;../components/HelloWorld.vue&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./example.module.css&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">,</span>
	<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> homeInfo <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>homeInfo<span class="token punctuation">)</span>

		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			homeInfo
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†é…ç½®<code>vuex4+ vue3</code> çš„åŸºæœ¬ä½¿ç”¨.å‡è®¾ç°åœ¨éœ€è¦åœ¨<code>home.vue</code>å–å¾ˆå¤šä¸ª state é‡Œé¢çš„æ•°æ®å‘¢ï¼Ÿé‚£ä¹ˆå°±ä¼šå˜æˆè¿™æ ·çš„ï¼š</p><div class="language-ts"><pre><code><span class="token operator">...</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> homeInfo <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>homeInfo<span class="token punctuation">)</span>
<span class="token keyword">const</span> value1 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>value1<span class="token punctuation">)</span>
<span class="token keyword">const</span> value2 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>value2<span class="token punctuation">)</span>
<span class="token keyword">const</span> value3 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>value3<span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre></div><p>è²Œä¼¼é‡å¤ä»£ç å¾ˆå¤šï¼Œå¯¹ä¸å¯¹ï¼Ÿæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ª<code>hooks</code>æ¥ä»£æ›¿è¿™äº›é‡å¤æ“ä½œ:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useVuexValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span>moduleName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> storeKeys<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> values<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> moduleNames <span class="token operator">=</span> moduleName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">useCurry</span><span class="token punctuation">(</span>moduleNames<span class="token punctuation">)</span>
  storeKeys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>storeKey<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">[</span>storeKey<span class="token punctuation">]</span><span class="token punctuation">)</span>
    values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value <span class="token operator">?</span> value <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> values
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">useCurry</span> <span class="token operator">=</span> <span class="token punctuation">(</span>moduleNames<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span>state
  moduleNames<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> state<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> state
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useVuexValue
</code></pre></div><p>ç„¶åæˆ‘ä»¬å–<code>state</code>å˜é‡çš„æ–¹æ³•å°±å˜æˆäº†:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useVuexValue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../hooks&#39;</span>

<span class="token operator">...</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>homeInfo<span class="token punctuation">,</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useVuexValue</span><span class="token punctuation">(</span><span class="token string">&#39;home&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;homeInfo&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        value1<span class="token punctuation">,</span>
        value2<span class="token punctuation">,</span>
        homeInfo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
</code></pre></div><p>å‡å¦‚<code>home module</code> ä¸‹é¢è¿˜æœ‰<code>detail</code>ã€<code>list</code> ç­‰ç­‰å­<code>module</code>ï¼Œé‚£æˆ‘ä»¬å–æ•°æ®çš„æ–¹å¼å°±åº”è¯¥æ˜¯:</p><div class="language-ts"><pre><code><span class="token operator">...</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useVuexValue</span><span class="token punctuation">(</span><span class="token string">&#39;home/detail&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        value1<span class="token punctuation">,</span>
        value2
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
</code></pre></div><p>æ˜¯ä¸æ˜¯çœ‹ä¸Šå»æœ‰ç‚¹çœ¼ç†Ÿï¼Œå¯¹çš„å°±æ˜¯ç±»ä¼¼äº<code>mapState</code>çš„æ–¹å¼ï¼Œä¸è¿‡æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ–¹å¼ï¼ŒåŒæ ·çš„æ€è·¯ï¼Œå¯ä»¥å°è£…æˆ‘ä»¬è‡ªå·±çš„<code>mutation</code>ã€<code>action</code>ç­‰ã€‚</p><p>å¯èƒ½ä½ é˜…è¯»çš„æ—¶å€™æ³¨æ„åˆ°äº†ï¼Œåœ¨å®šä¹‰æ¯ä¸ª<code>module</code>æ—¶ï¼Œæˆ‘ä»¬éƒ½å£°æ˜äº†<code>interface</code>ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“è¿™æ˜¯<code>typescript</code>çš„ç±»å‹å®šä¹‰ã€‚ä½†æ˜¯æˆ‘ä»¬ç”¨åˆ°äº†å—ï¼š</p><p><img src="https://i.loli.net/2021/01/20/LrfTeGqZw8AmiDV.jpg" alt=""></p><p>çœ‹åˆ°è¿™ä¸ª<code>any</code>å°±çŸ¥é“ï¼Œå’±ä»¬å‹æ ¹æ²¡æ³•é€šè¿‡<code>typrscript</code> æ¥æ™ºèƒ½åŒ–æç¤ºå’±ä»¬çš„<code>state</code>ï¼Œé‚£æœ‰æ²¡æœ‰æ–¹æ³•å‘¢ï¼Ÿæ ¹æ®ä¸Šé¢ ğŸ‘† æˆªå›¾å¯çŸ¥ <code>(property) Store&lt;any&gt;.state: any</code>ï¼Œ<code>vuex4</code>ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>Store&lt;any&gt;.state.any</code>ï¼Œæˆ‘ä»¬æƒ³åŠæ³•æŠŠè¿™ä¸¤ä¸ª<code>any</code>å˜æˆ<code>typescript</code>ç±»å‹å°±è¡Œäº†ã€‚</p><h3 id="ç»“åˆ-typescript" tabindex="-1">ç»“åˆ typescript <a class="header-anchor" href="#ç»“åˆ-typescript" aria-hidden="true">#</a></h3><p>æŒ‰ç…§å®˜æ–¹çš„æ•™ç¨‹ï¼Œå’±ä»¬å¯ä»¥æŠŠ<code>typecript</code> å’Œ <code>vuex4</code>ç»“åˆèµ·æ¥ï¼Œé¦–å…ˆæ¥æ”¹é€ ä¸€ä¸‹<code>store/index.ts</code>:</p><div class="language-ts"><pre><code><span class="token comment">// store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> InjectionKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> createLogger<span class="token punctuation">,</span> Store<span class="token punctuation">,</span> useStore <span class="token keyword">as</span> baseUseStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">import</span> modules <span class="token keyword">from</span> <span class="token string">&quot;./modules&quot;</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">&quot;../config&quot;</span>

<span class="token keyword">interface</span> <span class="token class-name">StateType</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span>Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev<span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">baseUseStore</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre></div><p>é€šè¿‡<code>export const key: InjectionKey&lt;Store&lt;StateType&gt;&gt; = Symbol()</code> ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å’±ä»¬çš„<code>stroe</code>æ·»åŠ ç±»å‹å®šä¹‰.å¯¹äºè¿™ä¸ª <code>StateType</code> ï¼Œå’±ä»¬å¾—æƒ³åŠæ³•å°†<code>modules</code> ä¸‹é¢çš„<code>home</code>ã€<code>about</code>çš„ç±»å‹å®šä¹‰éƒ½ç»™å›Šæ‹¬è¿›æ¥ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„<code>module</code> ä¸€èˆ¬æ¥è¯´éƒ½æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç›´æ¥åœ¨<code>index.ts</code>å®šä¹‰<code>StateType</code>ã€‚æˆ‘ä»¬åº”è¯¥æŠŠ<code>StateType</code>çš„å®šä¹‰æŠ½å‡ºæ¥ï¼Œä½œä¸º<code>types</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ src ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>types</code> ç›®å½•ï¼Œç„¶åæ–°å»ºä¸€ä¸ª<code>index.ts</code>:</p><div class="language-ts"><pre><code><span class="token comment">// types/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HomeState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../store/modules/home&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AboutState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../store/modules/about&quot;</span>

<span class="token keyword">type</span> <span class="token class-name">VuexModuleType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  home<span class="token operator">:</span> HomeState
  about<span class="token operator">:</span> AboutState
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">StateType</span> <span class="token operator">=</span> VuexModuleType
</code></pre></div><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠå„ä¸ª<code>module</code>çš„ç±»å‹æ–‡ä»¶éƒ½å¯¼è¿›æ¥äº†ï¼Œç„¶åä¸€èµ·åˆå¹¶å¯¼å‡ºï¼Œåœ¨<code>store/index.ts</code>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±èƒ½å–åˆ°è¿™é‡Œçš„<code>StateType</code>:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StateType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../types&#39;</span>
<span class="token operator">...</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span>Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	modules<span class="token punctuation">,</span>
	mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	strict<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev<span class="token punctuation">,</span>
	plugins<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span><span class="token punctuation">.</span>
</code></pre></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨<code>src</code>ä¸‹é¢æ–°å»ºä¸€ä¸ª<code>vuex.d.ts</code>:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ComponentCustomProperties <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StateType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./types&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;@vue/runtime-core&quot;</span> <span class="token punctuation">{</span>
  <span class="token comment">// provide typings for `this.$store`</span>
  <span class="token keyword">interface</span> <span class="token class-name">ComponentCustomProperties</span> <span class="token punctuation">{</span>
    $store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨å°±å‰©æœ€åä¸€æ­¥äº†ï¼Œæˆ‘ä»¬åœ¨<code>main.ts</code>é‡Œé¢æ‹¿åˆ°<code>store</code>æš´éœ²å‡ºæ¥çš„<code>key</code>:</p><div class="language-ts"><pre><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> store<span class="token punctuation">,</span> <span class="token punctuation">{</span> key <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥è¯•ä¸€è¯•å‘¢ï¼Ÿ</p><p><img src="https://i.loli.net/2021/01/20/9ReaYW43xIoJ6mk.png" alt=""></p><p>æˆ‘ä»¬æˆåŠŸäº†ï¼Œç°åœ¨æˆ‘ä»¬çš„<code>state</code>éƒ½èƒ½æ™ºèƒ½æç¤ºäº†ã€‚è²Œä¼¼å¾ˆå®Œç¾äº†ï¼Œå¯¹å—ï¼Ÿä½†æ˜¯äº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬åœ¨ä¸€ä¸ª<code>module</code>ä¸‹é¢è¿˜æœ‰å­<code>module</code>çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•å°±ä¸å¯è¡Œäº†ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨<code>modules/home</code>ä¸‹é¢å†å¢åŠ ä¸€ä¸ªå­<code>module</code>: <code>list</code></p><div class="language-ts"><pre><code><span class="token comment">// store/modules/home/list/index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">HomeListState</span> <span class="token punctuation">{</span>
  homeList<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> HomeListState <span class="token operator">=</span> <span class="token punctuation">{</span>
  homeList<span class="token operator">:</span> <span class="token string">&quot;list form home list state model&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶ååœ¨<code>home/index.ts</code>å¯¼å…¥:</p><div class="language-ts"><pre><code><span class="token comment">// moudles/home/index.ts</span>
<span class="token keyword">import</span> list <span class="token keyword">from</span> <span class="token string">&quot;./list&quot;</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
    list
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶è€Œæˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™å´å‡ºç°äº†é—®é¢˜ï¼š</p><p><img src="https://i.loli.net/2021/01/20/93JAxs2mgDzp7Ud.png" alt=""></p><p>æœ‰çš„åŒå­¦è¯´ï¼Œä½ å¾—æŠŠ<code>list</code>çš„ç±»å‹å®šä¹‰(<code>HomeListState</code>) åŠ åˆ°<code>HomeState</code>é‡Œé¢å•Šï¼Œæˆ‘ä»¬æ¥è¯•ä¸€è¯•ï¼š</p><p><img src="https://i.loli.net/2021/01/20/P1rZsJubAkMN8Op.png" alt=""></p><p>ç„¶è€Œç»“æœå¹¶ä¸åƒæƒ³è±¡ä¹‹ä¸­é‚£ä¹ˆå¥½ã€‚ç”šè‡³<code>vuex</code>çš„å®˜æ–¹ä»“åº“ä¹Ÿæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼š<a href="https://github.com/vuejs/vuex/issues/1833" target="_blank" rel="noopener noreferrer">how to use modules in vuex4.0</a></p><p>é‚£ä¸ºä»€ä¹ˆä¼šå¯¼è‡´è¿™ç§ç»“æœå‘¢ï¼Ÿæ˜¯å› ä¸ºå¯¹äº<code>çˆ¶module</code>æ¥è¯´ï¼Œ<code>å­module</code>çš„ç±»å‹æ˜¯<code>dynamic</code>çš„ï¼Œ<code>dynamic</code>çš„æ„æ€æ˜¯è¯´ï¼ŒåŠ¨æ€çš„ã€ä¸ç¡®å®šçš„ã€‚é‚£æˆ‘ä»¬å¦‚ä½•é¿å…è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç›®å‰æ¥è¯´ï¼Œæˆ‘ä»¬åªæœ‰å°†<code>å­module</code>ç»Ÿä¸€æè‡³<code>æ ¹module</code>ï¼Œæ„æ€å°±æ˜¯ä¸è¦åœ¨<code>module</code>é‡Œé¢åµŒå¥—<code>module</code>ã€‚åªèƒ½è¯´ï¼Œè¿™å¤ªé—æ†¾äº†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>InjectionKey&lt;Store&lt;StateType&gt;&gt; = Symbol()</code>è¿™ç§æ–¹å¼ï¼Œç»™äººçš„ç¬¬ä¸€ç›´è§‰ï¼Œå°±æ˜¯æœ‰ä¸€ç§å¼ºè¡Œé€‚é…<code>typescript</code>çš„ä¸é€‚æ„Ÿã€‚åŸºäºä¸Šé¢è¿™äº›åŸå› ï¼Œ<code>vuex5</code>ä¼šå®Œå…¨é‡å†™ï¼Œä»¥è·å¾—å®Œæ•´çš„<code>typescript</code>æ”¯æŒã€‚</p><h3 id="vuex5-æ–°ç‰¹æ€§" tabindex="-1">vuex5 æ–°ç‰¹æ€§ <a class="header-anchor" href="#vuex5-æ–°ç‰¹æ€§" aria-hidden="true">#</a></h3><p>ä»æœ€æ–°ä¸€æ¬¡<a href="https://www.youtube.com/watch?v=ajGglyQQD0k&amp;ab_channel=VuejsAmsterdam" target="_blank" rel="noopener noreferrer">Vue.js Global Online Conference</a> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè™½ç„¶<code>vuex4</code>è¿˜å¤„äº<code>betaé˜¶æ®µ</code>ï¼Œå¯æ˜¯<code>vuex5</code>å·²ç»æä¸Šäº†æ—¥ç¨‹ã€‚æ ¹æ® <code>vuex</code> æ ¸å¿ƒè´¡çŒ®è€…ï¼š<a href="https://github.com/kiaking" target="_blank" rel="noopener noreferrer">Kia King</a> æ‰€è¯´ï¼Œvuex5 å°†æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>åŒæ—¶æ”¯æŒ <code>Option API</code> å’Œ <code>Composition API</code></li><li>å®Œæ•´çš„<code>TypeScript</code>æ”¯æŒ</li><li>èˆå¼ƒ<code>Mutations</code>ï¼Œåªæœ‰<code>Actions</code></li><li>èˆå¼ƒ<code>nested modules</code>ï¼Œæ›¿æ¢æˆ <code>Compose</code></li><li>è‡ªåŠ¨<code>Code splitting</code></li></ul><p>æˆ‘ä»¬æ¥çœ‹çœ‹ vuex5 çš„å˜åŒ–å§ã€‚</p><h4 id="option-api" tabindex="-1">Option API <a class="header-anchor" href="#option-api" aria-hidden="true">#</a></h4><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•å®šä¹‰ä¸€ä¸ªåŸºäº<code>option api</code>çš„<code>store</code></p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;couter&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>é¦–å…ˆï¼Œåˆ›å»º<code>store</code>çš„æ–¹å¼å˜äº†ï¼Œç”±<code>createStore</code>å˜æˆ<code>defineStore</code>ï¼Œå…¶ä¸­ä¼šåŒ…æ‹¬ä¸€ä¸ª<code>name</code> ä½œä¸º<code>identify</code>ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€äº›<code>state</code>:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;couter&quot;</span><span class="token punctuation">,</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ª<code>getters</code>:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;couter&quot;</span><span class="token punctuation">,</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ç„¶è¿˜æœ‰ actions:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;couter&quot;</span><span class="token punctuation">,</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>store</code>åˆ›å»ºå¥½äº†ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒï¼š</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createVuex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">import</span> countStore <span class="token keyword">from</span> <span class="token string">&quot;./countStore&quot;</span>

<span class="token keyword">const</span> vuex <span class="token operator">=</span> <span class="token function">createVuex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> counter <span class="token operator">=</span> Vuex<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>

<span class="token comment">// counter.count -&gt; 1</span>
<span class="token comment">// counter.double -&gt; 2</span>
<span class="token comment">// counter.increment() -&gt; Increment</span>
<span class="token comment">// counter.count -&gt; 2</span>
<span class="token comment">// counter.double -&gt; 4</span>
</code></pre></div><p>é€šè¿‡ä»¥ä¸Šè¿™ç§æ–¹å¼ï¼Œæ‰€æœ‰çš„<code>stateå˜é‡</code>éƒ½ä¼šè·å¾—å®Œæ•´çš„<code>typescript</code>ç±»å‹å®šä¹‰ï¼Œä½ ä¸éœ€è¦è‡ªå·±å®šä¹‰ç±»ä¼¼<code>æ³›å‹</code> å’Œ <code>interface</code> ï¼Œä½ å°±èƒ½è·å¾—ä»–ä»¬çš„ç±»å‹å®šä¹‰ã€‚åˆšåˆšæˆ‘ä»¬åœ¨<code>vuex4</code>é‡Œé¢é‡åˆ°çš„é—®é¢˜ï¼Œå…¨éƒ¨éƒ½è§£å†³äº†ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆåœ¨<code>vue</code>é‡Œé¢ä½¿ç”¨<code>vuex5</code>,é¦–å…ˆè¿˜æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨<code>main.ts</code>é‡Œé¢å¯¼å…¥å®ƒï¼Œå¹¶å°†å…¶æ³¨å…¥åˆ°<code>app</code>é‡Œé¢:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createVuex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./app.vue&quot;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> vuex <span class="token operator">=</span> <span class="token function">createVuex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vuex<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#el&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>æ¥ç€åœ¨æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„åœ°æ–¹ï¼š</p><div class="language-ts"><pre><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;home&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>count <span class="token keyword">is</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> couter<span class="token punctuation">.</span>count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>double <span class="token keyword">is</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> couter<span class="token punctuation">.</span>double <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;counter.increment&quot;</span><span class="token operator">&gt;</span>
          Increment
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span>defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> counterStore <span class="token keyword">from</span> <span class="token string">&#39;./counterStore&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span><span class="token function">mapStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            counter<span class="token operator">:</span> counterStore
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p><code>vuex5</code>æä¾›äº†<code>mapStore</code>çš„é’©å­æ¥è·å–<code>state</code>ã€‚åœ¨è¿™é‡Œ<code>mapStore</code>å…¶å®æ˜¯<code>this.$vuex.store(counterStore)</code>çš„è¯­æ³•ç³–ã€‚</p><p>ç¥å¥‡çš„åœ°æ–¹æ¥äº†ï¼š</p><p><img src="https://i.loli.net/2021/01/20/3mKoBNG1PHYCuFy.png" alt=""></p><p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œ<code>store</code>çš„å®šä¹‰å’Œ<code>vue</code>ç»„ä»¶çš„å®šä¹‰ å‡ ä¹é•¿å¾—ä¸€æ¨¡ä¸€æ ·ã€‚è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿè¿™æ ·åšï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆæ–¹ä¾¿çš„å°†<code>vueç»„ä»¶</code>çš„é€»è¾‘æ¬åˆ°<code>vuex</code>é‡Œé¢ã€‚åŒæ—¶ä¹Ÿèƒ½ä¿è¯å¼€å‘çš„æ—¶å€™ï¼Œ<code>ç»„ä»¶</code>å’Œ<code>vuex</code>çš„é€»è¾‘ä¿æŒé«˜åº¦ä¸€è‡´æ€§ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹çœ‹<code>composition-api</code>ã€‚</p><h4 id="composition-api" tabindex="-1">Composition API <a class="header-anchor" href="#composition-api" aria-hidden="true">#</a></h4><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>

<span class="token keyword">const</span> counterSore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">,</span>
    double<span class="token punctuation">,</span>
    increment
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½ æ˜¯ä¸æ˜¯åˆè§‰å¾—æœ‰ç‚¹çœ¼ç†Ÿï¼Œè¿™ç©æ„é•¿å¾—å’Œç°åœ¨<code>vue3-composition-api</code>ç»„ä»¶çš„å®šä¹‰æ–¹å¼å‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚è¿™é‡Œä¹Ÿæ˜¯ç”¨äº†<code>defineStore</code>æ¥å®šä¹‰ä¸€ä¸ª<code>Store</code>ï¼Œå’Œ<code>option-api</code> ä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™é‡Œç”¨äº†ä¸€ä¸ª<code>callback</code>è€Œéä¸€ä¸ª<code>Object</code>ã€‚åœ¨è¿™ä¸ª<code>callback Function</code> é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°<code>vue reactivity</code>æ‰€åŒ…å«çš„æ‰€æœ‰ç‰¹æ€§ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¸éœ€è¦é¢„å…ˆå»å®šä¹‰<code>state</code>ã€<code>getters</code>ã€<code>actions</code>ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬åªæ˜¯åˆ©ç”¨<code>ref</code>åˆ›å»ºäº†ä¸€ä¸ªå˜é‡ï¼Œåˆ©ç”¨<code>computed</code>åˆ›å»ºäº†ä¸€ä¸ªè®¡ç®—å±æ€§çš„å˜é‡ï¼ŒåŒæ—¶ä¹Ÿåªæ˜¯å®šä¹‰ä¸€ä¸ªäº†ä¸€ä¸ªç®€å•çš„<code>increment</code> å‡½æ•°å»å˜æ›´<code>count</code>ã€‚</p><p>åŸºäºè¿™æ ·çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<code>vue3</code>é‡Œé¢çš„æ‰€æœ‰å…¶ä»–ç‰¹æ€§ï¼Œç±»ä¼¼<code>reactive</code>ã€<code>watch</code>ç­‰ç­‰ã€‚ç›¸å½“äºè¿™å®Œå…¨å–å†³äºæˆ‘ä»¬çš„è‡ªç”±ç»„åˆï¼Œå°†<code>hooks</code>çš„æ€æƒ³æ”¾å¤§åˆ°æœ€å¤§åŒ–ã€‚åŒæ—¶è¿™æ ·çš„æ–¹å¼ï¼Œå¯¹äº<code>typescript</code>æ¥è¯´ï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½èƒ½è·å¾—å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œç»ˆäºå®Œæ•´åœ°æ”¯æŒ<code>typescript</code>äº†ï¼ï¼</p><p>æ¥ç€è¿˜æ˜¯æ¥çœ‹çœ‹å¦‚ä½•åœ¨<code>vueç»„ä»¶</code>ä¸­ä½¿ç”¨:</p><div class="language-ts"><pre><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;home&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>count <span class="token keyword">is</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> couter<span class="token punctuation">.</span>count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>double <span class="token keyword">is</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> couter<span class="token punctuation">.</span>double <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;counter.increment&quot;</span><span class="token operator">&gt;</span>
          Increment
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span>defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token keyword">import</span> counterStore <span class="token keyword">from</span> <span class="token string">&#39;./counterStore&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">,</span>
    <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span>counterStore<span class="token punctuation">)</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            counter
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>ä¸€åˆ‡éƒ½çœ‹ä¸Šå»é‚£ä¹ˆå®Œç¾ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ<code>vuex5</code>é‡Œé¢æ²¡æœ‰<code>modules</code>ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><h4 id="store-composition" tabindex="-1">Store Composition <a class="header-anchor" href="#store-composition" aria-hidden="true">#</a></h4><p>ç”±äºæ²¡æœ‰äº†<code>modules</code>ï¼Œ<code>vuex5</code>ç»™æˆ‘ä»¬æä¾›äº†<code>Store Compostion</code>:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">const</span> greatStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;great&quot;</span><span class="token punctuation">,</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      info<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ç„¶åæˆ‘ä»¬åœ¨å¦å¤–çš„<code>store</code>é‡Œé¢å¦‚ä½•è·å–å‘¢ï¼š</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
<span class="token keyword">import</span> greatStore <span class="token keyword">from</span> <span class="token string">&quot;./greatStore&quot;</span>

<span class="token keyword">const</span> counterSore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> use <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> great <span class="token operator">=</span> <span class="token function">use</span><span class="token punctuation">(</span>greatStore<span class="token punctuation">)</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> countWithGreate <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>great<span class="token punctuation">.</span>info<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">,</span>
    double<span class="token punctuation">,</span>
    increment
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>vuex5</code>ç»™æˆ‘ä»¬æä¾›äº†<code>use</code>å‡½æ•°æ¥è·å–å…¶ä»–<code>state</code>ã€‚åªèƒ½è¯´ï¼Œç®€ç›´å¤ªå®Œç¾äº†ï¼Œé€šè¿‡<code>Compose</code>çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•<code>store</code>é‡Œé¢ç»„åˆå…¶ä»–<code>store</code>ï¼Œä»è€Œè¾¾åˆ°æˆ‘ä»¬è‡ªå·±æƒ³è¦çš„æ•ˆæœã€‚</p><h3 id="å®ç°æˆ‘ä»¬è‡ªå·±çš„çŠ¶æ€ç®¡ç†" tabindex="-1">å®ç°æˆ‘ä»¬è‡ªå·±çš„çŠ¶æ€ç®¡ç† <a class="header-anchor" href="#å®ç°æˆ‘ä»¬è‡ªå·±çš„çŠ¶æ€ç®¡ç†" aria-hidden="true">#</a></h3><p>é€šè¿‡ä¸Šè¿°<code>vuex5</code>çš„æ–°çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå…¶å®<code>vuex5</code>æ˜¯å¾ˆå¥½çš„åˆ©ç”¨äº†<code>composition-api</code>çš„æ€è·¯ï¼Œç»“åˆ<code>vue3 reactivity</code>çš„ç‰¹æ€§ï¼Œè¾¾åˆ°äº†è¿™æ ·çš„æ•ˆæœã€‚åŸºäºè¿™ç§æ€è·¯ï¼Œå…¶å®æˆ‘ä»¬å®Œå…¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„çŠ¶æ€ç®¡ç†è€¶ï¼Œå¯¹ä¸å¯¹ï¼Ÿå°±åƒ<code>hooks</code>å‡ºæ¥ä¹‹åï¼Œå¾ˆå¤š<code>react</code> å¼€å‘è€…ï¼Œéƒ½æ”¾å¼ƒäº†<code>redux</code>ï¼Œç›´æ¥åœ¨é¡¹ç›®é‡Œé¢ç»“åˆ<code>useReducer</code>å®ç°çŠ¶æ€ç®¡ç†ã€‚é‚£åœ¨<code>vue3</code>é‡Œé¢ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥è¯•ä¸€è¯•å§ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬ç»“åˆ<code>reactive</code>æ¥å®šä¹‰æˆ‘ä»¬çš„<code>state</code>:</p><div class="language-ts"><pre><code><span class="token comment">// custom_store/info/state.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">infoState</span> <span class="token punctuation">{</span>
  info<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> infoState <span class="token operator">=</span> <span class="token punctuation">{</span>
  info<span class="token operator">:</span> <span class="token string">&quot;info from info state model&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">createStore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">reactive</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¥½äº†åˆ›å»ºå®Œäº†ï¼Œå¯ä»¥ä½¿ç”¨äº†ã€‚å¦‚æœæˆ‘åªè¯´åˆ°è¿™ï¼Œä½ å¯èƒ½ä¼šé¡ºç€ç½‘çº¿è¿‡æ¥é”¤æˆ‘ï¼Œåˆ«ç€æ€¥å•Šï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥ã€‚ ä¸Šé¢æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>state</code>ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†<code>reactive</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åˆ©ç”¨<code>vue3-reactivity</code>çš„æœºåˆ¶æ¥ä¿è¯å’±ä»¬åˆ›å»ºçš„<code>state</code>å˜é‡æ˜¯å¯å“åº”å¼çš„ã€‚ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæ˜¯å®šä¹‰äº†<code>state</code>ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€äº›æ”¹å˜<code>state</code>çš„æ–¹æ³•ï¼Œå³<code>action</code>:</p><div class="language-ts"><pre><code><span class="token comment">// custom_store/info/action.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> infoState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./state&quot;</span>

<span class="token keyword">function</span> <span class="token function">chageInfo</span><span class="token punctuation">(</span>state<span class="token operator">:</span> infoState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>info <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createAction</span><span class="token punctuation">(</span>state<span class="token operator">:</span> infoState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    chageInfo<span class="token operator">:</span> <span class="token function">chageInfo</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¥½äº†ç°åœ¨æ”¹å˜<code>state</code>çš„<code>action</code>ä¹Ÿæœ‰äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æŠŠä»–ä»¬ç»„åˆèµ·æ¥ï¼Œè®©å®ƒä»¬çœ‹ä¸Šå»æ›´åƒ<code>vuex</code>ä¸€ç‚¹:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">readonly</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./action&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./state&quot;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useStore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token keyword">readonly</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span>
    action<span class="token operator">:</span> <span class="token keyword">readonly</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ˜¯ä¸æ˜¯æœ‰é‚£å‘³äº†ã€‚è¿™é‡Œä¸ºä»€ä¹ˆè¦åˆ©ç”¨<code>readonly</code>å‘¢ï¼Ÿæ˜¯å› ä¸ºä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä¿®æ”¹<code>state</code>çš„å˜é‡ï¼Œåªé€šè¿‡<code>action</code>å»æ”¹å˜<code>state</code>çš„å€¼ï¼Œå¢åŠ <code>readonly</code>ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„å®ç°äº†è¿™ä¸€ç‚¹ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨<code>vueç»„ä»¶</code>ä¸­ä½¿ç”¨ä¸€ä¸‹:</p><div class="language-ts"><pre><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;home&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;../assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> info <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;changeInfo&quot;</span><span class="token operator">&gt;</span>
			Click to change Info
		<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span>defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../custom_store/info&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">,</span>
	<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">)</span>

		<span class="token keyword">function</span> <span class="token function">changeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			store<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">chageInfo</span><span class="token punctuation">(</span><span class="token string">&#39;hhh&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			info<span class="token punctuation">,</span>
			changeInfo
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>æ˜¯ä¸æ˜¯å®Œå…¨å’Œ<code>vuex5</code>çš„ä½¿ç”¨æ–¹å¼ä¸€æ¨¡ä¸€æ ·ï¼Œè€Œä¸”ä¸çŸ¥é“ä½ æ³¨æ„åˆ°æ²¡æœ‰ï¼Œæˆ‘ä»¬å®Œç¾çš„å®ç°äº†å¯¹<code>typescript</code>çš„æ”¯æŒï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½ä¼šè¢«è‡ªåŠ¨æ¨æ–­ï¼š</p><p><img src="https://i.loli.net/2021/01/21/NjDyC8XH5hZPYVO.png" alt=""></p><p>è¿˜æœ‰ï¼Œå…¶å®æˆ‘ä»¬ä¹ŸåŒæ—¶å®ç°äº†<code>store compose</code>ï¼Œæˆ‘ä»¬åªéœ€åœ¨ä»»æ„æƒ³è¦çš„<code>store</code>é‡Œé¢ï¼Œå¯¼å…¥å…¶ä»–ä»»æ„çš„<code>store</code>å³å¯ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿæ”¯æŒå…¶ä»–çš„<code>vue3</code>çš„é’©å­ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªç”±ç»„åˆã€‚å‰©ä¸‹çš„ä¸œè¥¿ï¼Œç•™ç»™å°ä¼™ä¼´ä»¬è‡ªå·±æ¢ç´¢å’¯ã€‚</p><h3 id="è¯´åˆ°æœ€å" tabindex="-1">è¯´åˆ°æœ€å <a class="header-anchor" href="#è¯´åˆ°æœ€å" aria-hidden="true">#</a></h3><p>å¯ä»¥è¯´ï¼Œ<code>react hooks</code> å’Œ <code>vue3 composition-api</code>çš„å‡ºç°ã€‚æå¤§çš„å˜é©äº†æˆ‘ä»¬ç¼–ç¨‹çš„æ€ç»´æ–¹å¼ï¼Œé€šè¿‡æ¢è®¨<code>vuex</code>çš„ä»Šç”Ÿåä¸–ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆæ¸…æ™°åˆ°è®¤è¯†åˆ°<code>å‡½æ•°å¼ç¼–ç¨‹</code>çš„ä¼˜ç‚¹å’Œå‰ç«¯çš„å‘å±•æ–¹å‘ã€‚è¿™æ— ç–‘æ˜¯æœ€è¿‘ä¸€å¹´ï¼Œå‰ç«¯æœ€å¤§çš„è¿›æ­¥ï¼Œç»“åˆ<code>typescript</code>ï¼Œä»ç¼–ç¨‹æ€æƒ³ä¸Šï¼Œæ¨åŠ¨äº†å‰ç«¯çš„å‘å±•ã€‚è¯ä¸ç”¨å¤šè¯´ï¼Œå„ä½å°ä¼™ä¼´èµ¶ç´§æ“ä½œèµ·æ¥å§ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æ–‡ç« çš„ç¤ºä¾‹ä»£ç ï¼Œè¯·ç‚¹å‡»è¿™é‡Œï¼š<a href="https://github.com/xieyezi/vue-vite-template/tree/vuex-modules" target="_blank" rel="noopener noreferrer">vue-vite-template</a>.</p><h4 id="é¢˜å¤–è¯" tabindex="-1">é¢˜å¤–è¯ <a class="header-anchor" href="#é¢˜å¤–è¯" aria-hidden="true">#</a></h4><p>åŒæ—¶ä¹Ÿæ‰“ä¸ªå°å¹¿å‘Šã€‚æœ€è¿‘å†™äº†ä¸€ä¸ªå°ç©æ„ï¼š<a href="https://github.com/xieyezi/monia-cli" target="_blank" rel="noopener noreferrer">monia-cli</a></p><ul><li><p><strong>ä»€ä¹ˆæ˜¯ monia-cli?</strong></p><p>è¿™æ˜¯ä¸€æ¬¾åŒæ—¶æ”¯æŒ<code>vue2</code>ã€<code>vue3</code>ã€<code>react</code>ã€<code>flutter</code>çš„é¡¹ç›®è„šæ‰‹æ¶ã€‚</p></li><li><p><strong>monia-cli èƒ½åšä»€ä¹ˆ?</strong></p><p>1ã€æ¯æ¬¡æ–°å»ºé¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦èŠ±å¤§é‡çš„æ—¶é—´å»æ–°å»ºä¸€äº›é‡å¤çš„ä»£ç æ–‡ä»¶ï¼Œä¾‹å¦‚<code>request</code>,<code>config</code>ç­‰ç­‰ï¼Œ<code>â€œä¸ä¼šå·æ‡’çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½ç¨‹åºå‘˜â€ã€‚åˆ©ç”¨</code>monia`ï¼Œä½ å®Œå…¨å¯ä»¥çœæ‰è¿™äº›é‡å¤çš„å·¥ä½œã€‚</p><p>2ã€<code>monia</code>æ‰€æä¾›çš„<code>template</code>éƒ½æ˜¯ç›®å‰æœ€æ–°çš„ï¼Œæœ€å…¨çš„é¡¹ç›®<code>template</code>ã€‚å…¶ä¸­<code>vue3</code>çš„<code>template</code>, <code>monia</code> é‡‡ç”¨äº†æœ€æ–°çš„<code>vue + vite + typescript</code>çš„é¡¹ç›®ç»„ç»‡æ–¹å¼ã€‚<code>flutter</code>çš„<code>template</code>ï¼Œä¼šå¸®ä½ çœæ‰å¾ˆå¤šé‡å¤çš„å·¥ä½œï¼ŒåŒ…æ‹¬<code>comon componts</code>,<code>comon utils</code>ç­‰ç­‰ã€‚</p><p>3ã€<code>monia</code>æœ¬èº«è¿˜æ”¯æŒé”™è¯¯æç¤ºï¼Œå‘½ä»¤è”æƒ³ç­‰åŠŸèƒ½ã€‚</p><p>4ã€ä½¿ç”¨ç¤ºä¾‹ï¼š<code>monia create test_flutter_app</code></p></li></ul></div></div><footer class="page-footer" data-v-338937e7 data-v-4b207065><div class="edit" data-v-4b207065><div class="edit-link" data-v-4b207065 data-v-76b066b8><a class="link" href="https://github.com//xieyezi/vitepress-blog/edit/main/docs/article/vuex5è¦è§£å†³å“ªäº›é—®é¢˜.md" target="_blank" rel="noopener noreferrer" data-v-76b066b8>å¸®åŠ©æˆ‘æ”¹è¿›æ­¤å†…å®¹ï¼Ÿ <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-76b066b8><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-4b207065><!----></div></footer><div class="next-and-prev-link" data-v-338937e7 data-v-19df4348><div class="container" data-v-19df4348><div class="prev" data-v-19df4348><a class="link" href="/article/javascriptåŸå‹ä¸åŸå‹é“¾çš„æ·±åº¦è§£æ" data-v-19df4348><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-19df4348><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-19df4348>javascriptåŸå‹ä¸åŸå‹é“¾çš„æ·±åº¦è§£æ</span></a></div><div class="next" data-v-19df4348><a class="link" href="/article/å¦‚ä½•æ„å»ºä½ è‡ªå·±çš„React" data-v-19df4348><span class="text" data-v-19df4348>å¦‚ä½•æ„å»ºä½ è‡ªå·±çš„React</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-19df4348><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"article_2019ncovç–«æƒ…åœ°å›¾.md\":\"327eaf66\",\"article_2022-year-end-summary.md\":\"2b86064b\",\"article_dockerfile-note.md\":\"b587bcaf\",\"article_es6-20ä¸ªç»å¸¸ä½¿ç”¨çš„æŠ€å·§.md\":\"a435d56a\",\"article_es6çš„å­¦ä¹ ç¬”è®°1.md\":\"7fc93df2\",\"article_es6çš„å­¦ä¹ ç¬”è®°2.md\":\"388ad895\",\"article_gulpçš„åŸºæœ¬ä½¿ç”¨.md\":\"b1c4941a\",\"article_readme.md\":\"105cdfe9\",\"article_reactåŸºç¡€çŸ¥è¯†.md\":\"e2d6446c\",\"article_tomcatçš„é…ç½®åŸŸåè®¿é—®.md\":\"275db6c4\",\"article_vue cli3.0è¯·æ±‚æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®.md\":\"1ddf76e3\",\"article_vue-cli 3.0è§£å†³è·¨åŸŸé—®é¢˜.md\":\"be504869\",\"article_vue3å†™ä¸€ä¸ªç–«æƒ…æŸ¥è¯¢å°å·¥å…·.md\":\"f5f9201f\",\"article_vuexçš„ç›¸å…³ä½¿ç”¨.md\":\"631e8a27\",\"article_vueä½¿ç”¨axiosçš„getå’Œpostè¯·æ±‚.md\":\"ac047a19\",\"article_vueå¼€å‘ç¯å¢ƒçš„æ­å»º.md\":\"8ca5addc\",\"article_vueæ’æ§½ä¸ç¼“å­˜.md\":\"2e88814b\",\"article_vueç»„ä»¶.md\":\"65a4574f\",\"article_vueç»„ä»¶åº“iviewçš„ä½¿ç”¨.md\":\"3f9ffbda\",\"article_vueè·¯ç”±çš„åŸºæœ¬åŠ è½½.md\":\"83e3bfef\",\"article_vueè¿‡æ¸¡ä¸åŠ¨ç”».md\":\"ce3ac20d\",\"article_windowsæ­å»ºæœ€å®Œç¾çš„vs codeå¼€å‘å¹³å°.md\":\"e05c292b\",\"article_better-scrollæ’ä»¶åˆå§‹åŒ–åæ²¡æœ‰æ•ˆæœ.md\":\"2640ecb7\",\"article_callå’Œapplyçš„åŒºåˆ«.md\":\"035e7554\",\"article_cssè¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºçœç•¥å·.md\":\"8ad62768\",\"article_docker-composeéƒ¨ç½²é¡¹ç›®.md\":\"180c569b\",\"article_dockeréƒ¨ç½²vueé™æ€é¡¹ç›®.md\":\"2c98bf66\",\"article_git æäº¤è§„èŒƒ.md\":\"a48ef569\",\"article_git-flowæµç¨‹.md\":\"918b9f66\",\"article_gitå¸¸ç”¨å‘½ä»¤.md\":\"fb4fba9f\",\"article_gitæµç¨‹æ­¥éª¤.md\":\"11acc0cc\",\"article_import å’Œ require çš„åŒºåˆ«.md\":\"2741a4dd\",\"article_javascriptåŸå‹ä¸åŸå‹é“¾çš„æ·±åº¦è§£æ.md\":\"8d2285b8\",\"article_nginxç»™tomcaté…ç½®åå‘ä»£ç†.md\":\"5ce23543\",\"article_promiseçš„è¿ç»­è°ƒç”¨é—®é¢˜.md\":\"f82e561d\",\"article_reactå…¥é—¨å¿…çŸ¥å¿…ä¼šçŸ¥è¯†ç‚¹.md\":\"d3d3fa14\",\"article_vue-amapçš„bug -cannot read property 'ac' of null.md\":\"717e59da\",\"article_vuex5è¦è§£å†³å“ªäº›é—®é¢˜.md\":\"70763e33\",\"article_ä¸€äº›è¯­æ³•å—.md\":\"352d8b72\",\"article_ä»cjså’Œesmè¯»æ‡‚package.json.md\":\"cb5bcbc1\",\"article_ä½œç”¨åŸŸé“¾-é—­åŒ…-æ‰§è¡Œä¸Šä¸‹æ–‡.md\":\"774e4bb3\",\"article_åˆ é™¤githubé¡¹ç›®ä¸­æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶.md\":\"a9545558\",\"article_åŸå‹ä¸åŸå‹é“¾.md\":\"82c4d75e\",\"article_å•†å“å¤šè§„æ ¼é€‰æ‹©-skuç®—æ³•.md\":\"4d1f819e\",\"article_å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶é€šä¿¡.md\":\"12adcfc6\",\"article_æˆ‘çš„2018å¹´æ€»ç»“.md\":\"90dbe43a\",\"article_æœ‰è¶£çš„é—­åŒ….md\":\"657fdd8d\",\"article_ç»§æ‰¿.md\":\"c9d655fa\",\"article_è§£å†³ç§»åŠ¨ç«¯300mså»¶è¿Ÿç‚¹å‡»çš„é—®é¢˜.md\":\"521314b9\",\"article_è®°ä¸€æ¬¡è‡ªå·±å°è£…npmåŒ…çš„ç»å†.md\":\"005b09f4\",\"article_é€šä¿—æ˜“æ‡‚çš„å­¦ä¼šhttps.md\":\"78f8586e\",\"article_é˜²æŠ–å’ŒèŠ‚æµ.md\":\"f071a824\",\"index.md\":\"0dad21c8\",\"index_cn.md\":\"a01a77dc\"}")</script>
    <script type="module" async src="/assets/app.c6951d47.js"></script>
    
  </body>
</html>